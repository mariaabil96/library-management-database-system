# CREATE DATABASE
CREATE DATABASE LIBRARY;
# USING LIBRARY DATABASE
USE LIBRARY;
# CREATE TABLE BRANCH
CREATE TABLE Branch
(
Branch_no VARCHAR(10) PRIMARY KEY,
Manager_id VARCHAR(10),
Branch_address VARCHAR(30),
Contact_no VARCHAR(15)
);
DESC branch;

#CREATE TABLE Employee
CREATE TABLE Employee
(
Emp_id VARCHAR(10) PRIMARY KEY,
Emp_name VARCHAR(30),
Position VARCHAR(30),
Salary DECIMAL(10,2),
Branch_no VARCHAR(10),
FOREIGN KEY (Branch_no) REFERENCES Branch(Branch_no) 
);
DESC employee;  
#CREATE TABLE Books
CREATE TABLE Books
(
ISBN VARCHAR(30) PRIMARY KEY,
Book_title VARCHAR(1000),
Category VARCHAR(30),
Rental_Price DECIMAL(10,2),
Status ENUM('Yes','No'),
Author VARCHAR(30),
Publisher VARCHAR(30)
);
DESC Books;
#CREATE TABLE Customer
CREATE TABLE Customer
(
Customer_Id VARCHAR(10) PRIMARY KEY,
Customer_name VARCHAR(30),
Customer_address VARCHAR(30),
Reg_date DATE
);
DESC customer;
#CREATE TABLE IssueStatus
CREATE TABLE IssueStatus
(
Issue_Id VARCHAR(10) PRIMARY KEY,
Issued_cust VARCHAR(10),
Issued_book_name VARCHAR(50),
Issue_date DATE,
Isbn_book VARCHAR(30),
FOREIGN KEY (Issued_cust) REFERENCES customer(Customer_id) on DELETE CASCADE,
FOREIGN KEY (Isbn_book) REFERENCES books(ISBN) on DELETE CASCADE
);
DESC issuestatus;
#CREATE TABLE ReturnStatus
CREATE TABLE ReturnStatus
(
Return_id VARCHAR(10) PRIMARY KEY,
Return_cust VARCHAR(30),
Return_book_name VARCHAR(50),
Return_date DATE,
isbn_book2 VARCHAR(30),
FOREIGN KEY (isbn_book2) REFERENCES books(ISBN) on DELETE CASCADE
);
DESC returnstatus;



#INSERTING VALUES TO BRANCH TABLE
INSERT INTO BRANCH(Branch_no , Manager_id , Branch_address , Contact_no) VALUES ('B1', 'M1 ','ERNAKULAM','919099988676'),
('B2', 'M2 ','KOTTAYAM','919099988677'),
('B3', 'M3 ','PATHANAMTHITTA','919099988678'),
('B4', 'M4 ','KOZHIKOD','919099988679'),
('B5', 'M5 ','THRISSUR','919099988680');

#DISPLAYING BRANCH TABLE
SELECT * FROM BRANCH;

